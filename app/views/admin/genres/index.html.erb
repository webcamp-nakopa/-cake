<div class="container">
  <h2 class="mt-5">ジャンル一覧・追加</h2>

  <% if @genre.errors.any? %>
    <div id="error_explanation">
     <ul>
       <% @genre.errors.full_messages.each do |message| %>
         <li><%= message %></li>
       <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form_with model: @genre, url: "/admin/genres", local: true do |f| %>
      <%= f.label :name, "ジャンル名" %>
      <%= f.text_field :name %>
      <%= f.submit"新規登録", class: "btn btn-success" %>
    <% end %>

    <div class="col-md-5">
      <table class="table">
        <thead>
          <tr>
            <th>ジャンル</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
          <tr>
            <td><%= genre.name %></td>
            <td class="text-center"><%= link_to"編集する", edit_admin_genre_path(genre), class: "btn btn-success" %></td>
            <td class="text-center"><%= link_to"削除する", admin_genre_path(genre), class: "btn btn-danger", method: :delete, data: {confirm: "本当に消しますか？"} %></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>