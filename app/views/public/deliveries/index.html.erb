<div class="container">
  <h2 class="mt-5">配送先登録 / 一覧</h2>

  <% if @delivery.errors.any? %>
    <div id="error_explanation">
     <ul>
       <% @delivery.errors.full_messages.each do |message| %>
         <li><%= message %></li>
       <% end %>
      </ul>
    <div>
  <% end %>

  <div>
    <%= form_with model: @delivery, url: deliveries_path, class: "form-inline", local: true do |f| %>
      <%= f.label :postcode, "郵便番号(ハイフンなし)" %>
      <%= f.text_field :postcode %>
      <%= f.label :address, "住所" %>
      <%= f.text_field :address %>
      <%= f.label :name, "宛名" %>
      <%= f.text_field :name %>
      <%= f.submit "新規登録", class: "btn btn-success" %>
    <% end %>

    <div class="col-md-5">
      <table class="table">
        <thead class="thead-light">
          <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
          </tr>
        </thead>
        <tbody>
          <% @deliveries.each do |delivery| %>
          <tr>
            <td><%= delivery.postcode %></td>
            <td><%= delivery.address %></td>
            <td><%= delivery.name %></td>
            <td class="text-center"><%= link_to"編集する", edit_delivery_path(delivery), class: "btn btn-success" %></td>
            <td class="text-center"><%= link_to"削除する", delivery_path(delivery), class: "btn btn-danger", method: :delete, data: {confirm: "本当に消しますか？"} %></td>
          </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>